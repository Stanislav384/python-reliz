-- GuiManager (Часть 2: Таймер раунда)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UpdateCountdownUI = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("UpdateCountdownUI")
local UpdateGameUIEvent = ReplicatedStorage:WaitForChild("RemoteEvents"):WaitForChild("UpdateGameUIEvent") -- <<-- НОВОЕ

local UI = script.Parent
local CountdownLabel = UI:WaitForChild("CountdownLabel")
local GameStatusLabel = UI:WaitForChild("GameStatusLabel") -- <<-- НОВОЕ
local ResultsFrame = UI:WaitForChild("ResultsFrame")       -- <<-- НОВОЕ

-- Обработчик для таймера лобби (без изменений)
local function onUpdateCountdown(value)
    if type(value) == "number" and value > 0 then
        CountdownLabel.Visible = true
        CountdownLabel.Text = "До старта: " .. value
    else
        CountdownLabel.Visible = false
    end
end
UpdateCountdownUI.OnClientEvent:Connect(onUpdateCountdown)

-- Обработчик для UI раунда <<-- НОВЫЙ БЛОК
local function onUpdateGameUI(eventType, data)
    if eventType == "UpdateTimer" then
        GameStatusLabel.Visible = true
        GameStatusLabel.Text = data
    end
    -- Логику для результатов добавим позже
end
UpdateGameUIEvent.OnClientEvent:Connect(onUpdateGameUI)


-- Начальное состояние
CountdownLabel.Visible = false
GameStatusLabel.Visible = false   -- <<-- НОВОЕ
ResultsFrame.Visible = false    -- <<-- НОВОЕ
